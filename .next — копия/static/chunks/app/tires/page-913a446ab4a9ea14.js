(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15],{4804:function(e,l,n){Promise.resolve().then(n.bind(n,7482))},7482:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return j}});var i=n(7437),o=n(2265),t=n(9376),a=n(5368),s=n(3577),r=n(8740),u=n(4303),d=n(5103),c=n.n(d),h=n(2451),x=n(407),p=e=>{let{}=e,[l,n]=(0,o.useState)(null),[t,a]=(0,o.useState)(null),[s,r]=(0,o.useState)(null),[u,d]=(0,o.useState)(null);return(0,i.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg mb-8",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"width",className:"block text-sm font-medium text-gray-600",children:"Ширина"}),(0,i.jsxs)("select",{id:"width",name:"width",className:"mt-1 block w-full pl-4 pr-10 py-3 border border-gray-300 bg-white rounded-xl focus:outline-none focus:ring-blue-400 focus:border-blue-400 sm:text-sm shadow-sm",value:l||"",onChange:e=>n(e.target.value||null),children:[(0,i.jsx)("option",{value:"",children:"Все"}),(0,i.jsx)("option",{value:"30",children:"30"}),(0,i.jsx)("option",{value:"31",children:"31"}),(0,i.jsx)("option",{value:"32",children:"32"}),(0,i.jsx)("option",{value:"33",children:"33"}),(0,i.jsx)("option",{value:"35",children:"35"}),(0,i.jsx)("option",{value:"135",children:"135"}),(0,i.jsx)("option",{value:"145",children:"145"}),(0,i.jsx)("option",{value:"155",children:"155"}),(0,i.jsx)("option",{value:"165",children:"165"}),(0,i.jsx)("option",{value:"175",children:"175"}),(0,i.jsx)("option",{value:"185",children:"185"}),(0,i.jsx)("option",{value:"195",children:"195"}),(0,i.jsx)("option",{value:"205",children:"205"}),(0,i.jsx)("option",{value:"215",children:"215"}),(0,i.jsx)("option",{value:"225",children:"225"}),(0,i.jsx)("option",{value:"235",children:"235"}),(0,i.jsx)("option",{value:"245",children:"245"}),(0,i.jsx)("option",{value:"255",children:"255"}),(0,i.jsx)("option",{value:"265",children:"265"}),(0,i.jsx)("option",{value:"275",children:"275"}),(0,i.jsx)("option",{value:"285",children:"285"}),(0,i.jsx)("option",{value:"295",children:"295"}),(0,i.jsx)("option",{value:"305",children:"305"}),(0,i.jsx)("option",{value:"315",children:"315"}),(0,i.jsx)("option",{value:"325",children:"325"}),(0,i.jsx)("option",{value:"335",children:"335"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-600",children:"Высота"}),(0,i.jsxs)("select",{id:"height",name:"height",className:"mt-1 block w-full pl-4 pr-10 py-3 border border-gray-300 bg-white rounded-xl focus:outline-none focus:ring-blue-400 focus:border-blue-400 sm:text-sm shadow-sm",value:t||"",onChange:e=>a(e.target.value||null),children:[(0,i.jsx)("option",{value:"",children:"Все"}),(0,i.jsx)("option",{value:"25",children:"25"}),(0,i.jsx)("option",{value:"30",children:"30"}),(0,i.jsx)("option",{value:"35",children:"35"}),(0,i.jsx)("option",{value:"40",children:"40"}),(0,i.jsx)("option",{value:"45",children:"45"}),(0,i.jsx)("option",{value:"50",children:"50"}),(0,i.jsx)("option",{value:"55",children:"55"}),(0,i.jsx)("option",{value:"60",children:"60"}),(0,i.jsx)("option",{value:"65",children:"65"}),(0,i.jsx)("option",{value:"70",children:"70"}),(0,i.jsx)("option",{value:"75",children:"75"}),(0,i.jsx)("option",{value:"80",children:"80"}),(0,i.jsx)("option",{value:"85",children:"85"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"season",className:"block text-sm font-medium text-gray-600",children:"Сезон"}),(0,i.jsxs)("select",{id:"season",name:"season",className:"mt-1 block w-full pl-4 pr-10 py-3 border border-gray-300 bg-white rounded-xl focus:outline-none focus:ring-blue-400 focus:border-blue-400 sm:text-sm shadow-sm",value:s||"",onChange:e=>r(e.target.value||null),children:[(0,i.jsx)("option",{value:"",children:"Все"}),(0,i.jsx)("option",{value:"Лето",children:"Лето"}),(0,i.jsx)("option",{value:"Зима",children:"Зима"}),(0,i.jsx)("option",{value:"Межсезонье",children:"Межсезонье"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"manufacturer",className:"block text-sm font-medium text-gray-600",children:"Бренд"}),(0,i.jsxs)("select",{id:"manufacturer",name:"manufacturer",className:"mt-1 block w-full pl-4 pr-10 py-3 border border-gray-300 bg-white rounded-xl focus:outline-none focus:ring-blue-400 focus:border-blue-400 sm:text-sm shadow-sm",value:u||"",onChange:e=>d(e.target.value||null),children:[(0,i.jsx)("option",{value:"",children:"Все"}),(0,i.jsx)("option",{value:"Austone",children:"Austone"}),(0,i.jsx)("option",{value:"Belshina",children:"Белшина"}),(0,i.jsx)("option",{value:"Bridgestone",children:"Bridgestone"}),(0,i.jsx)("option",{value:"Continental",children:"Continental"}),(0,i.jsx)("option",{value:"Delinte",children:"Delinte"}),(0,i.jsx)("option",{value:"Double Star",children:"Double Star"}),(0,i.jsx)("option",{value:"Falken",children:"Falken"}),(0,i.jsx)("option",{value:"Formula",children:"Formula"}),(0,i.jsx)("option",{value:"Gislaved",children:"Gislaved"}),(0,i.jsx)("option",{value:"GoodYear",children:"GoodYear"}),(0,i.jsx)("option",{value:"Hankook",children:"Hankook"}),(0,i.jsx)("option",{value:"Ikon",children:"Ikon"}),(0,i.jsx)("option",{value:"Imperial",children:"Imperial"}),(0,i.jsx)("option",{value:"Kama",children:"Кама"}),(0,i.jsx)("option",{value:"Kleber",children:"Kleber"}),(0,i.jsx)("option",{value:"Lassa",children:"Lassa"}),(0,i.jsx)("option",{value:"Laufenn",children:"Laufenn"}),(0,i.jsx)("option",{value:"Leao",children:"Leao"}),(0,i.jsx)("option",{value:"Matador",children:"Matador"}),(0,i.jsx)("option",{value:"Maxxis",children:"Maxxis"}),(0,i.jsx)("option",{value:"Michelin",children:"Michelin"}),(0,i.jsx)("option",{value:"Mirage",children:"Mirage"}),(0,i.jsx)("option",{value:"Nokian",children:"Nokian"}),(0,i.jsx)("option",{value:"Pirelli",children:"Pirelli"}),(0,i.jsx)("option",{value:"Roadstone",children:"Roadstone"}),(0,i.jsx)("option",{value:"Sailun",children:"Sailun"}),(0,i.jsx)("option",{value:"Superia",children:"Superia"}),(0,i.jsx)("option",{value:"Torero",children:"Torero"}),(0,i.jsx)("option",{value:"Toyo",children:"Toyo"}),(0,i.jsx)("option",{value:"Triangle",children:"Triangle"}),(0,i.jsx)("option",{value:"Viatti",children:"Viatti"}),(0,i.jsx)("option",{value:"WestLake",children:"WestLake"}),(0,i.jsx)("option",{value:"Yokohama",children:"Yokohama"})]})]})]}),(0,i.jsx)("div",{className:"mt-6 flex justify-center",children:(0,i.jsx)("button",{className:"bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-transform transform ",onClick:()=>{},children:"Применить фильтры"})})]})},j=e=>{let{searchParams:l}=e,n=(0,t.useRouter)(),[d,j]=(0,o.useState)([]),[v,m]=(0,o.useState)(1),[g,b]=(0,o.useState)(0),[f,w]=(0,o.useState)(!0),[N,k]=(0,o.useState)(!1),[y,S]=(0,o.useState)({width:null,height:null,season:null,manufacturer:null}),C=l.page?parseInt(l.page):1,[L,F]=(0,o.useState)(5),[M,E]=(0,o.useState)(2);(0,o.useEffect)(()=>{let e=()=>{let e=window.innerWidth;e<=480?(F(1),E(1)):e<=768?(F(3),E(1)):(F(5),E(2))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let D=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;w(!0);let n=a.O.from("tires").select("*",{count:"exact"});e.width&&(n=n.eq("width",e.width)),e.height&&(n=n.eq("height",e.height)),e.season&&(n=n.eq("season",e.season)),e.manufacturer&&(n=n.eq("manufacturer",e.manufacturer));let{count:i,data:o,error:t}=await n;if(t){w(!1);return}b(null!=i?i:0),m(Math.ceil((null!=i?i:0)/8));let s=(l-1)*8,{data:r,error:u}=await n.range(s,s+8-1);if(u){w(!1);return}j(r||[]),k(0===r.length),w(!1)};return(0,o.useEffect)(()=>{D(y,C)},[C]),(0,i.jsxs)("main",{className:"min-h-screen bg-white",children:[(0,i.jsx)(s.default,{}),(0,i.jsx)("section",{className:"py-10 bg-blue-50",children:(0,i.jsxs)("div",{className:"container max-w-[1370px] mx-auto text-center py-10",children:[(0,i.jsx)("h1",{className:"text-5xl font-bold mb-4",children:"Все шины"}),(0,i.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Интернет-магазин шин. Найдите идеальные шины для вашего автомобиля, выбрав параметры ниже."}),(0,i.jsx)(p,{onFilterChange:e=>{let l={...y,...e};S(l),j([]),n.push("/tires?page=1"),D(l,1)}})]})}),(0,i.jsx)("section",{className:"py-20 bg-white",children:(0,i.jsxs)("div",{className:"container max-w-[1370px] mx-auto text-center",children:[(0,i.jsx)("h2",{className:"text-4xl font-bold mb-4 text-black",children:"Большой ассортимент качественных шин"}),(0,i.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Мы предлагаем широкий ассортимент шин для любых условий и автомобилей. Найдите идеальные шины для вашего автомобиля прямо сейчас."}),f?(0,i.jsx)("p",{children:"Загрузка..."}):N?(0,i.jsx)("p",{className:"text-gray-500 text-2xl mt-8",children:"Шины по заданным фильтрам не найдены. Попробуйте изменить фильтры или сбросить их."}):(0,i.jsxs)(i.Fragment,{children:[d.length>0&&(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:d.map(e=>(0,i.jsx)(r.Z,{tire:e},e.id))}),d.length>0&&(0,i.jsx)("div",{className:"pagination-container overflow-x-auto",children:(0,i.jsx)(c(),{previousLabel:(0,i.jsx)(h.Z,{}),nextLabel:(0,i.jsx)(x.Z,{}),breakLabel:"...",pageCount:v,marginPagesDisplayed:M,pageRangeDisplayed:L,initialPage:C-1,onPageChange:e=>{let l=e.selected+1;l<=v&&n.push("/tires?page=".concat(l))},containerClassName:"pagination flex",activeClassName:"active"})})]})]})}),(0,i.jsx)(u.Z,{})]})}}},function(e){e.O(0,[972,389,777,973,88,971,117,744],function(){return e(e.s=4804)}),_N_E=e.O()}]);