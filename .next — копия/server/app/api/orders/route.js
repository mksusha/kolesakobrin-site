"use strict";(()=>{var e={};e.id=146,e.ids=[146],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},4770:e=>{e.exports=require("crypto")},7702:e=>{e.exports=require("events")},2615:e=>{e.exports=require("http")},5240:e=>{e.exports=require("https")},8216:e=>{e.exports=require("net")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},2452:e=>{e.exports=require("tls")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},4004:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>l,patchFetch:()=>x,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c});var s={};t.r(s),t.d(s,{POST:()=>u});var i=t(3278),o=t(5002),n=t(4877),a=t(5232);async function u(e){try{let{name:r,email:t,phone:s,comment:i,quantity:o,tire_name:n,tire_price:u,tire_size:p,rim_name:d,rim_price:c,rim_size:m,bolt_pattern:l,et:x,hub_diameter:g,rim_model:q}=await e.json();if(console.log("Received data:",{name:r,email:t,phone:s,comment:i,quantity:o,tire_name:n,tire_price:u,tire_size:p,rim_name:d,rim_price:c,rim_size:m,bolt_pattern:l,et:x,hub_diameter:g,rim_model:q}),!r||!t||!s||!o)return new Response(JSON.stringify({message:"Заполните все обязательные поля"}),{status:400});let y={buyer_name:r,buyer_email:t,buyer_phone:s,comment:i,quantity:o,order_type:n?"tire":"rim"};n&&u&&p&&(y={...y,tire_name:n,tire_price:u,tire_size:p}),d&&c&&m&&q&&(y={...y,rim_name:d,rim_price:c,rim_size:m,rim_model:q});let{error:h}=await a.O.from("orders").insert([y]);if(h)return new Response(JSON.stringify({message:"Ошибка при сохранении заказа"}),{status:500});return new Response(JSON.stringify({message:"Заказ успешно отправлен"}),{status:200})}catch(e){return console.error("Error handling request:",e),new Response(JSON.stringify({message:"Ошибка при сохранении заказа"}),{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/orders/route",pathname:"/api/orders",filename:"route",bundlePath:"app/api/orders/route"},resolvedPagePath:"/Users/maksi/vse-shiny/src/app/api/orders/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:m}=p,l="/api/orders/route";function x(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:c})}},3278:(e,r,t)=>{e.exports=t(517)},5232:(e,r,t)=>{t.d(r,{O:()=>s});let s=(0,t(6100).eI)("https://ijedzibacsfdbekmkwuy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlqZWR6aWJhY3NmZGJla21rd3V5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjg3NTAxNDYsImV4cCI6MjA0NDMyNjE0Nn0.zG5n6c1xmP6QgagZqQnWVjBYX9uTqumxALAS7Trl6Ko")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[379,100],()=>t(4004));module.exports=s})();