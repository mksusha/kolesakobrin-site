(()=>{var e={};e.id=362,e.ids=[362],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},5648:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>o,routeModule:()=>x,tree:()=>c}),s(8287),s(3733),s(9198);var r=s(170),l=s(5002),a=s(3876),i=s.n(a),n=s(6299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["tires",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8287)),"/Users/maksi/vse-shiny/src/app/tires/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3733)),"/Users/maksi/vse-shiny/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,9198)),"/Users/maksi/vse-shiny/src/app/not-found.tsx"]}],o=["/Users/maksi/vse-shiny/src/app/tires/[id]/page.tsx"],h="/tires/[id]/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/tires/[id]/page",pathname:"/tires/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2375:(e,t,s)=>{Promise.resolve().then(s.bind(s,6556))},8374:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6323).Z)("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]])},2201:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6323).Z)("SunSnow",[["path",{d:"M10 9a3 3 0 1 0 0 6",key:"6zmtdl"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M14 21V3",key:"1llu3z"}],["path",{d:"M10 4V3",key:"pkzwkn"}],["path",{d:"M10 21v-1",key:"1u8rkd"}],["path",{d:"m3.64 18.36.7-.7",key:"105rm9"}],["path",{d:"m4.34 6.34-.7-.7",key:"d3unjp"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 4-3 3",key:"15jcng"}],["path",{d:"m14 17 3 3",key:"6tlq38"}],["path",{d:"m21 15-3-3 3-3",key:"1nlnje"}]])},2662:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6323).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},9849:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(7247),l=s(8964),a=s(8375);let i=({tire:e,onClose:t})=>{let[s,i]=(0,l.useState)({name:"",email:"",phone:"",comment:"",quantity:1}),[n,d]=(0,l.useState)(!1),c=e=>{let{name:t,value:r}=e.target;i({...s,[t]:r})},o=async t=>{t.preventDefault(),d(!0);try{(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,tire_name:e.name,tire_price:e.price,tire_size:`${e.width}/${e.height}/${e.radius}`})})).ok?alert("Ваш заказ успешно отправлен!"):alert("Произошла ошибка при отправке заказа.")}catch(e){alert("Произошла ошибка при отправке заказа."),console.error("",e)}finally{d(!1)}};return r.jsx(a.Z,{title:"Заказ шины",onClose:t,children:(0,r.jsxs)("form",{onSubmit:o,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center a",children:[" ",r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Информация о шине:"}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Название:"})," ",e.name]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Цена:"})," ",e.price," BYN"]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Размеры:"})," ",e.width,"/",e.height,"/",e.radius]})]}),r.jsx("input",{type:"text",name:"name",placeholder:"ФИО",value:s.name,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-md"}),r.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-md"}),r.jsx("input",{type:"tel",name:"phone",placeholder:"Телефон",value:s.phone,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-md"}),r.jsx("textarea",{name:"comment",placeholder:"Комментарий",value:s.comment,onChange:c,className:"w-full p-3 border border-gray-300 rounded-md"}),r.jsx("input",{type:"number",name:"quantity",placeholder:"Количество",value:s.quantity,onChange:c,min:"1",required:!0,className:"w-full p-3 border border-gray-300 rounded-md"}),r.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-500 text-white p-3 rounded-md hover:bg-blue-600 transition",children:n?"Отправка...":"Отправить"})]})})}},2895:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var r=s(7247),l=s(8964),a=s(4597),i=s(9906),n=s(8374),d=s(2662),c=s(2201),o=s(9849);let h=({tire:e})=>{let[t,s]=(0,l.useState)(!1),h=e.width&&e.height?`${e.width}/${e.height}${e.radius?"/"+e.radius:""}`:"Не указано",u=`${e.price} BYN`,x=()=>{s(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative border rounded-lg shadow-md bg-white rounded-xl cursor-pointer hover:shadow-lg transition duration-300 flex flex-col justify-between h-full p-4 w-full",children:[r.jsx(i.default,{href:`/tires/${e.id}`,className:"block",children:(0,r.jsxs)("div",{children:[r.jsx("div",{className:"absolute top-3 left-3",children:"Зима"===e.season?r.jsx(n.Z,{className:"w-10 h-10 text-blue-500"}):"Лето"===e.season?r.jsx(d.Z,{className:"w-10 h-10 text-yellow-500"}):(0,r.jsxs)("div",{className:"relative w-10 h-10",children:[r.jsx(c.Z,{className:"absolute w-10 h-10 text-yellow-500",style:{clipPath:"polygon(0% 0%, 50% 0%, 50% 100%, 0% 100%)"}}),r.jsx(c.Z,{className:"absolute w-10 h-10 text-blue-500",style:{clipPath:"polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%)"}})]})}),r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(a.default,{src:e.image_url||"/placeholder.png",alt:e.name,width:150,height:150,className:"object-cover-tires"})}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:e.name}),r.jsx("p",{className:"text-gray-500",children:e.manufacturer}),r.jsx("p",{className:"text-red-600 text-lg font-semibold mt-2",children:u}),(0,r.jsxs)("p",{className:"text-gray-600 mt-2",children:["Размеры: ",h]})]})]})}),r.jsx("div",{className:"flex justify-center mt-2",children:r.jsx("button",{className:"bg-blue-500 text-white mt-2 px-4 py-2 rounded-full hover:bg-blue-600 w-auto",onClick:()=>{s(!0)},children:"Заказать"})})]}),t&&r.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50",onClick:e=>e.currentTarget===e.target&&x(),style:{height:"100vh",width:"100vw"},children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg relative z-60",children:[r.jsx("button",{className:"absolute top-2 right-2 text-gray-500",onClick:x,children:"✕"}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Оформить заказ"}),r.jsx(o.Z,{tire:e,onClose:x})]})})]})}},6556:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(7247),l=s(8964),a=s(4178),i=s(195),n=s(1022),d=s(4291),c=s(9906),o=s(9849),h=s(2895);let u=()=>{let{id:e}=(0,a.useParams)(),[t,s]=(0,l.useState)(null),[u,x]=(0,l.useState)(!0),[m,p]=(0,l.useState)([]),[g,y]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let t=async()=>{let{data:t,error:r}=await i.O.from("tires").select("*").eq("id",e).single();r||s(t),x(!1)},r=async()=>{let{data:t,error:s}=await i.O.from("tires").select("*").neq("id",e).limit(4);s||p(t||[])};e&&(t(),r())},[e]);let j=()=>{y(!1)};return u?r.jsx("p",{className:"text-center py-10",children:"Загрузка..."}):t?(0,r.jsxs)("div",{children:[r.jsx(n.default,{}),r.jsx("main",{className:"w-full bg-blue-50 py-16",children:r.jsx("div",{className:"container mx-auto",children:(0,r.jsxs)("div",{className:"bg-white p-10 rounded-3xl shadow-lg flex flex-col md:flex-row items-center justify-center",children:[r.jsx("div",{className:"w-64 h-64 mb-6 md:mb-0 md:mr-8 flex-shrink-0",children:r.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-contain border border-gray-300 rounded-lg shadow-lg"})}),(0,r.jsxs)("div",{className:"flex-1 text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-6 text-gray-900",children:t.name}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left pl-10 pr-10",children:[(0,r.jsxs)("ul",{className:"space-y-4 text-lg text-gray-700",children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Производитель:"})," ",t.manufacturer]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Категория:"})," Легковые шины"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Размеры:"})," ",t.width,"/",t.height,"/",t.radius||""]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Сезон:"})," ",t.season]})]}),(0,r.jsxs)("ul",{className:"space-y-4 text-lg text-gray-700",children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Цена:"})," ",t.price," BYN"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Гарантия:"}),r.jsx(c.default,{href:"/for-buyers",className:"text-blue-600 underline ml-2",children:"Гарантийные обязательства"})]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Доставка:"}),r.jsx(c.default,{href:"/for-buyers",className:"text-blue-600 underline ml-2",children:"Читать про доставку"})]})]})]}),r.jsx("button",{className:"bg-blue-600 text-white font-bold py-3 px-8 mt-8 rounded-full shadow-lg hover:bg-blue-700 transition duration-200",onClick:()=>{y(!0)},children:"Заказать"})]})]})})}),g&&r.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50",onClick:e=>e.currentTarget===e.target&&j(),style:{height:"100vh",width:"100vw"},children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg relative z-60",children:[r.jsx("button",{className:"absolute top-2 right-2 text-gray-500",onClick:j,children:"✕"}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Оформить заказ"}),r.jsx(o.Z,{tire:t,onClose:j})]})}),r.jsx("section",{className:"mt-12 bg-white py-10",children:(0,r.jsxs)("div",{className:"container mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Другие шины"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:m.map(e=>r.jsx(h.Z,{tire:e},e.id))})]})}),r.jsx(d.Z,{})]}):r.jsx("p",{className:"text-center py-10",children:"Шина не найдена"})}},8287:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(5347).createProxy)(String.raw`/Users/maksi/vse-shiny/src/app/tires/[id]/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[379,210,493,346,893],()=>s(5648));module.exports=r})();