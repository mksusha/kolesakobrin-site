(()=>{var e={};e.id=523,e.ids=[523],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},2894:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(280),s(3733),s(9198);var t=s(170),l=s(5002),i=s(3876),a=s.n(i),n=s(6299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(r,d);let c=["",{children:["rims",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,280)),"/Users/maksi/vse-shiny/src/app/rims/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3733)),"/Users/maksi/vse-shiny/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,9198)),"/Users/maksi/vse-shiny/src/app/not-found.tsx"]}],o=["/Users/maksi/vse-shiny/src/app/rims/[id]/page.tsx"],m="/rims/[id]/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/rims/[id]/page",pathname:"/rims/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2448:(e,r,s)=>{Promise.resolve().then(s.bind(s,7678))},2525:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});var t=s(7247),l=s(8964),i=s(8375);let a=({rim:e,onClose:r})=>{let[s,a]=(0,l.useState)({name:"",email:"",phone:"",comment:"",quantity:1}),[n,d]=(0,l.useState)(!1),c=e=>{let{name:r,value:t}=e.target;a({...s,[r]:t})},o=async r=>{r.preventDefault(),d(!0);let t=e.rim_model||e.model,l=e.price||0,i=e.width&&e.height&&e.diameter?`${e.width}x${e.height}, ${e.diameter}`:"Не указано",a=e.name||"Не указано",n=e.hub_diameter||"Не указано";try{let e=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,rim_model:t,rim_price:l,rim_size:i,rim_name:a,hub_diameter:n})}),r=await e.json();e.ok?alert("Ваш заказ успешно отправлен!"):alert(`Произошла ошибка при отправке заказа: ${r.message||"неизвестная ошибка"}`)}catch(e){alert("Произошла ошибка при отправке заказа."),console.error("",e)}finally{d(!1)}};return t.jsx(i.Z,{title:"Заказ диска",onClose:r,children:(0,t.jsxs)("form",{onSubmit:o,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Информация о диске:"}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Название:"})," ",e.model]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Производитель:"})," ",e.manufacturer]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Цена:"})," ",e.price," BYN"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Размер:"})," ",e.width,"x",e.height]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Разболтовка:"})," ",e.name]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Диаметр:"})," ",e.diameter]})]}),t.jsx("input",{type:"text",name:"name",placeholder:"ФИО",value:s.name,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-md"}),t.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-md"}),t.jsx("input",{type:"tel",name:"phone",placeholder:"Телефон",value:s.phone,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-md"}),t.jsx("textarea",{name:"comment",placeholder:"Комментарий",value:s.comment,onChange:c,className:"w-full p-3 border border-gray-300 rounded-md"}),t.jsx("input",{type:"number",name:"quantity",placeholder:"Количество",value:s.quantity,onChange:c,min:"1",required:!0,className:"w-full p-3 border border-gray-300 rounded-md"}),t.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-500 text-white p-3 rounded-md hover:bg-blue-600 transition",children:n?"Отправка...":"Отправить"})]})})}},2481:(e,r,s)=>{"use strict";s.d(r,{Z:()=>c});var t=s(7247),l=s(8964),i=s(4597),a=s(9906),n=s(8375),d=s(2525);let c=({rim:e})=>{let[r,s]=(0,l.useState)(!1),[c,o]=(0,l.useState)(null),m=void 0!==e.price?`${e.price} BYN`:"Нет в наличии",x=e.color&&"string"==typeof e.color&&({Чёрный:"bg-black",Черный:"bg-black",Белый:"bg-white border border-gray-300",Графитовый:"bg-gray-600",Серебристый:"bg-gray-300"})[e.color]||"bg-transparent",u=()=>{s(!1),o(null)};return(0,t.jsxs)("div",{className:"relative border rounded-lg shadow-md bg-white cursor-pointer hover:shadow-lg transition duration-300 flex flex-col justify-between h-full p-4 w-full",children:[t.jsx(a.default,{href:`/rims/${e.id}`,className:"block",children:(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-center",children:t.jsx("h2",{className:"text-xl font-bold mb-2",children:`ET${e.depth||""} ${e.name}`})}),t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx(i.default,{src:e.image_url||"/placeholder.png",alt:e.name,width:150,height:150,className:"object-cover"})}),(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-500",children:e.manufacturer||"Производитель неизвестен"}),t.jsx("p",{className:`text-xl font-semibold mt-2 ${e.price?"text-red-600":"text-gray-600"}`,children:m}),(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["Модель: ",e.model||"Не указано"]}),(0,t.jsxs)("div",{className:"flex items-center justify-center mt-1",children:[t.jsx("div",{className:`w-4 h-4 rounded-sm mr-2 ${x}`}),t.jsx("p",{className:"text-gray-600",children:e.color_name||"Не указано"})]}),(0,t.jsxs)("p",{className:"text-gray-600 mt-2",children:["Размер: ",e.width,"x",e.height]}),e.diameter&&(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["D",e.diameter]})]})]})}),t.jsx("div",{className:"text-center mt-2",children:e.price?t.jsx("button",{onClick:e=>{e.stopPropagation(),o("order"),s(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded-full mt-2 hover:bg-blue-600",children:"Заказать"}):t.jsx("button",{onClick:e=>{e.stopPropagation(),o("notify"),s(!0)},className:"bg-gray-500 text-white px-4 py-2 rounded-full mt-2 hover:bg-gray-600",children:"Узнать о поступлении"})}),r&&"order"===c&&t.jsx(n.Z,{title:"Заказ диска",onClose:u,children:t.jsx(d.Z,{rim:{...e,price:e.price??0,diameter:e.diameter??0},onClose:u})}),r&&"notify"===c&&t.jsx(n.Z,{title:"Уведомление о поступлении",onClose:u,children:t.jsx(d.Z,{rim:{...e,price:0,diameter:e.diameter??0},onClose:u})})]})}},7678:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>x});var t=s(7247),l=s(8964),i=s(4178),a=s(195),n=s(1022),d=s(4291),c=s(9906),o=s(2525),m=s(2481);let x=()=>{let{id:e}=(0,i.useParams)(),[r,s]=(0,l.useState)(null),[x,u]=(0,l.useState)(!0),[h,p]=(0,l.useState)([]),[g,j]=(0,l.useState)(!1),[b,y]=(0,l.useState)(null);(0,l.useEffect)(()=>{let r=async()=>{let{data:r,error:t}=await a.O.from("rims").select("*").eq("id",e).single();t||s(r),u(!1)},t=async()=>{let{data:r,error:s}=await a.O.from("rims").select("*").neq("id",e).limit(4);s||p(r||[])};e&&(r(),t())},[e]);let f=()=>{j(!1),y(null)};return x?t.jsx("p",{className:"text-center py-10",children:"Загрузка..."}):r?(0,t.jsxs)("div",{children:[t.jsx(n.default,{}),t.jsx("main",{className:"w-full bg-blue-50 py-16",children:t.jsx("div",{className:"container mx-auto",children:(0,t.jsxs)("div",{className:"bg-white p-10 rounded-3xl shadow-lg flex flex-col md:flex-row items-center justify-center",children:[t.jsx("div",{className:"w-64 h-64 mb-6 md:mb-0 md:mr-8 flex-shrink-0",children:t.jsx("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-contain border border-gray-300 rounded-lg shadow-lg"})}),(0,t.jsxs)("div",{className:"flex-1 text-center",children:[t.jsx("h1",{className:"text-4xl font-bold mb-6 text-gray-900",children:r.model}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left pl-10 pr-10",children:[(0,t.jsxs)("ul",{className:"space-y-4 text-lg text-gray-700",children:[(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Производитель:"})," ",r.manufacturer]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Размеры:"})," ",r.width,"/",r.height]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Цвет:"})," ",r.color_name]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Разболтовка:"})," ",r.bolts]})]}),(0,t.jsxs)("ul",{className:"space-y-4 text-lg text-gray-700",children:[(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Цена:"})," ",r.price?`${r.price} BYN`:"Нет в наличии"]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Диаметр:"})," ",r.diameter]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Гарантия:"}),t.jsx(c.default,{href:"/for-buyers",className:"text-blue-600 underline ml-2",children:"Гарантийные обязательства"})]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Доставка:"}),t.jsx(c.default,{href:"/for-buyers",className:"text-blue-600 underline ml-2",children:"Читать про доставку"})]})]})]}),t.jsx("div",{className:"text-center mt-2",children:r.price?t.jsx("button",{onClick:()=>{y("order"),j(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded-full mt-2 hover:bg-blue-600",children:"Заказать"}):t.jsx("button",{onClick:()=>{y("notify"),j(!0)},className:"bg-gray-500 text-white px-4 py-2 rounded-full mt-2 hover:bg-gray-600",children:"Узнать о поступлении"})})]})]})})}),g&&t.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50",onClick:e=>e.currentTarget===e.target&&f(),style:{height:"100vh",width:"100vw"},children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg relative z-60",children:[t.jsx("button",{className:"absolute top-2 right-2 text-gray-500",onClick:f,children:"✕"}),t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"order"===b?"Оформить заказ":"Уведомить о поступлении"}),b&&t.jsx(o.Z,{rim:r,onClose:f})]})}),t.jsx("section",{className:"mt-12 bg-white py-10",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[" ",t.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-900 text-center",children:"Другие диски"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[" ",h.map(e=>t.jsx(m.Z,{rim:e},e.id))]})]})}),t.jsx(d.Z,{})]}):t.jsx("p",{className:"text-center py-10",children:"Диск не найден"})}},280:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(5347).createProxy)(String.raw`/Users/maksi/vse-shiny/src/app/rims/[id]/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[379,210,493,346,893],()=>s(2894));module.exports=t})();